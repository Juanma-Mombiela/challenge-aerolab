{"ast":null,"code":"import _slicedToArray from\"/home/jmombiela/proyectos/challenge-aerolab/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Divider,Grid,Stack,Text,Image}from\"@chakra-ui/react\";import{motion}from\"framer-motion\";import SortButtons from\"./SortButtons\";import ProductCard from\"./ProductCard\";import{getSort}from\"../helpers/getSort\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var ProductList=function ProductList(_ref){var products=_ref.products,productsPerPage=_ref.productsPerPage;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var _useState3=useState(products),_useState4=_slicedToArray(_useState3,2),sortedProducts=_useState4[0],setSortedProducts=_useState4[1];var _useState5=useState(\"recent\"),_useState6=_slicedToArray(_useState5,2),sortSelected=_useState6[0],setSortSelected=_useState6[1];useEffect(function(){setPage(1);setSortedProducts(getSort(products,sortSelected));},[sortSelected,products]);var handleSortChange=function handleSortChange(sortMethod){setSortSelected(sortMethod);};return/*#__PURE__*/_jsxs(Stack,{padding:4,spacing:3,children:[/*#__PURE__*/_jsxs(Stack,{alignItems:\"center\",align:\"center\",as:\"nav\",justify:\"space-between\",direction:{base:\"column\",sm:\"row\"},children:[/*#__PURE__*/_jsxs(Stack,{isInline:true,align:\"center\",children:[/*#__PURE__*/_jsxs(Text,{color:\"gray.700\",fontWeight:\"semibold\",children:[page*productsPerPage,\" of \",products.length,\" products\"]}),/*#__PURE__*/_jsx(Divider,{display:[\"none\",\"initial\"],h:\"30px\",orientation:\"vertical\"}),/*#__PURE__*/_jsx(SortButtons,{sortSelected:sortSelected,handleChange:handleSortChange})]}),/*#__PURE__*/_jsxs(Stack,{display:{base:\"none\",sm:\"flex\"},children:[page!==1&&/*#__PURE__*/_jsx(Image,{cursor:\"pointer\",loading:\"lazy\",src:\"../assets/icons/arrow-left.svg\",onClick:function onClick(){return setPage(function(p){return p-1;});}}),productsPerPage!==products.length/page&&/*#__PURE__*/_jsx(Image,{cursor:\"pointer\",loading:\"lazy\",src:\"../assets/icons/arrow-right.svg\",onClick:function onClick(){return setPage(function(p){return p+1;});}})]})]}),/*#__PURE__*/_jsx(Divider,{variant:\"solid\"}),/*#__PURE__*/_jsx(Grid,{gap:3,templateColumns:\"repeat(auto-fill, minmax(276px, 1fr))\",width:\"100%\",justifyItems:\"center\",children:sortedProducts===null||sortedProducts===void 0?void 0:sortedProducts.slice((page-1)*productsPerPage,productsPerPage*page).map(function(product,index){return/*#__PURE__*/_jsx(motion.div,{animate:\"visible\",layout:true,custom:index,initial:\"hidden\",variants:{hidden:{opacity:0,y:100},visible:function visible(index){return{opacity:1,y:0,transition:{delay:index*0.06}};}},children:/*#__PURE__*/_jsx(ProductCard,{product:product},product._id)},product._id);})}),/*#__PURE__*/_jsx(Divider,{variant:\"solid\"}),/*#__PURE__*/_jsxs(Stack,{isInline:true,align:\"center\",justify:\"space-between\",children:[/*#__PURE__*/_jsxs(Text,{color:\"gray.700\",fontWeight:\"semibold\",children:[page*productsPerPage,\" of \",products.length,\" products\"]}),/*#__PURE__*/_jsxs(Stack,{isInline:true,children:[page!==1&&/*#__PURE__*/_jsx(Image,{cursor:\"pointer\",loading:\"lazy\",src:\"../assets/icons/arrow-left.svg\",onClick:function onClick(){return setPage(function(p){return p-1;});}}),productsPerPage!==products.length/page&&/*#__PURE__*/_jsx(Image,{cursor:\"pointer\",loading:\"lazy\",src:\"../assets/icons/arrow-right.svg\",onClick:function onClick(){return setPage(function(p){return p+1;});}})]})]})]});};export default ProductList;","map":{"version":3,"sources":["/home/jmombiela/proyectos/challenge-aerolab/src/components/ProductList.js"],"names":["React","useState","useEffect","Divider","Grid","Stack","Text","Image","motion","SortButtons","ProductCard","getSort","ProductList","products","productsPerPage","page","setPage","sortedProducts","setSortedProducts","sortSelected","setSortSelected","handleSortChange","sortMethod","base","sm","length","p","slice","map","product","index","hidden","opacity","y","visible","transition","delay","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Divider, Grid, Stack, Text, Image } from \"@chakra-ui/react\";\nimport { motion } from \"framer-motion\";\nimport SortButtons from \"./SortButtons\";\nimport ProductCard from \"./ProductCard\";\nimport { getSort } from \"../helpers/getSort\";\n\nconst ProductList = ({ products, productsPerPage }) => {\n  const [page, setPage] = useState(1);\n  const [sortedProducts, setSortedProducts] = useState(products);\n  const [sortSelected, setSortSelected] = useState(\"recent\");\n\n  useEffect(() => {\n    setPage(1);\n    setSortedProducts(getSort(products, sortSelected));\n  }, [sortSelected, products]);\n\n  const handleSortChange = (sortMethod) => {\n    setSortSelected(sortMethod);\n  };\n\n  return (\n    <Stack padding={4} spacing={3}>\n      <Stack\n        alignItems=\"center\"\n        align=\"center\"\n        as=\"nav\"\n        justify=\"space-between\"\n        direction={{ base: \"column\", sm: \"row\" }}\n      >\n        <Stack isInline align=\"center\">\n          <Text color=\"gray.700\" fontWeight=\"semibold\">\n            {page * productsPerPage} of {products.length} products\n          </Text>\n          <Divider\n            display={[\"none\", \"initial\"]}\n            h=\"30px\"\n            orientation=\"vertical\"\n          />\n          <SortButtons\n            sortSelected={sortSelected}\n            handleChange={handleSortChange}\n          />\n        </Stack>\n\n        <Stack display={{ base: \"none\", sm: \"flex\" }}>\n          {page !== 1 && (\n            <Image\n              cursor=\"pointer\"\n              loading=\"lazy\"\n              src=\"../assets/icons/arrow-left.svg\"\n              onClick={() => setPage((p) => p - 1)}\n            />\n          )}\n          {productsPerPage !== products.length / page && (\n            <Image\n              cursor=\"pointer\"\n              loading=\"lazy\"\n              src=\"../assets/icons/arrow-right.svg\"\n              onClick={() => setPage((p) => p + 1)}\n            />\n          )}\n        </Stack>\n      </Stack>\n\n      <Divider variant=\"solid\" />\n\n      <Grid\n        gap={3}\n        templateColumns=\"repeat(auto-fill, minmax(276px, 1fr))\"\n        width=\"100%\"\n        justifyItems=\"center\"\n      >\n        {sortedProducts\n          ?.slice((page - 1) * productsPerPage, productsPerPage * page)\n          .map((product, index) => (\n            <motion.div\n              animate=\"visible\"\n              key={product._id}\n              layout\n              custom={index}\n              initial=\"hidden\"\n              variants={{\n                hidden: { opacity: 0, y: 100 },\n                visible: (index) => ({\n                  opacity: 1,\n                  y: 0,\n                  transition: {\n                    delay: index * 0.06,\n                  },\n                }),\n              }}\n            >\n              <ProductCard product={product} key={product._id} />\n            </motion.div>\n          ))}\n      </Grid>\n\n      <Divider variant=\"solid\" />\n      <Stack isInline align=\"center\" justify=\"space-between\">\n        <Text color=\"gray.700\" fontWeight=\"semibold\">\n          {page * productsPerPage} of {products.length} products\n        </Text>\n\n        <Stack isInline>\n          {page !== 1 && (\n            <Image\n              cursor=\"pointer\"\n              loading=\"lazy\"\n              src=\"../assets/icons/arrow-left.svg\"\n              onClick={() => setPage((p) => p - 1)}\n            />\n          )}\n          {productsPerPage !== products.length / page && (\n            <Image\n              cursor=\"pointer\"\n              loading=\"lazy\"\n              src=\"../assets/icons/arrow-right.svg\"\n              onClick={() => setPage((p) => p + 1)}\n            />\n          )}\n        </Stack>\n      </Stack>\n    </Stack>\n  );\n};\n\nexport default ProductList;\n"]},"metadata":{},"sourceType":"module"}